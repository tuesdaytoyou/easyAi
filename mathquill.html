<!DOCTYPE html>
<html>
<head>
<title>MathQuill</title>
<!-- Copyright (c) 2010-2017 The MathJax Consortium -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="./src/plugins/mathquill-0.10.1/mathquill.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="./src/plugins/mathquill-0.10.1/mathquill.js"></script>

</head>
<body>
  <p>Type math here: <span id="math-field"></span></p>
  <p>LaTeX of what you typed: <span id="latex"></span></p>
   
  <script>
  var mathFieldSpan = document.getElementById('math-field');
  var latexSpan = document.getElementById('latex');
   
  var MQ = MathQuill.getInterface(2); // for backcompat
  var mathField = MQ.MathField(mathFieldSpan, {
    spaceBehavesLikeTab: true,
    leftRightIntoCmdGoes: 'up',
    restrictMismatchedBrackets: true,
    sumStartsWithNEquals: true,
    supSubsRequireOperand: true,
    //charsThatBreakOutOfSupSub: '+-=<>',
    autoSubscriptNumerals: true,
    autoOperatorNames: 'sin COMMA',
    handlers: {
      edit: function(mathField) {
        // var texto = mathField.text();
        latexSpan.textContent = mathField.latex()
        //that.$emit('update:value',mathField.latex())

        //显示光标
        const controller = mathField.__controller;
        controller.cursor.show();
        controller.blurred = false;
      }
    }
  });
  /*
    var mathField = MQ.MathField(mathFieldSpan, {
      spaceBehavesLikeTab: true, // configurable
      handlers: {
        edit: function() { // useful event handlers
          latexSpan.textContent = mathField.latex(); // simple API
        }
      }
    });
  */

  // a+b+\sqrt{a^2+\frac{b^2}{c^2}+\frac{d}{e}}
  let value = 'a+\\sqrt{a^2+\\frac{b^2}{c^2}}'
  mathField.cmd(value)
  </script>
</body>
</html>